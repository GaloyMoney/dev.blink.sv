"use strict";(self.webpackChunkdev_blink_sv=self.webpackChunkdev_blink_sv||[]).push([[346],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>h});var a=n(7294);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,l=function(e,t){if(null==e)return{};var n,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var c=a.createContext({}),s=function(e){var t=a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=s(e.components);return a.createElement(c.Provider,{value:t},e.children)},m="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,l=e.mdxType,r=e.originalType,c=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),m=s(n),d=l,h=m["".concat(c,".").concat(d)]||m[d]||p[d]||r;return n?a.createElement(h,o(o({ref:t},u),{},{components:n})):a.createElement(h,o({ref:t},u))}));function h(e,t){var n=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var r=n.length,o=new Array(r);o[0]=d;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i[m]="string"==typeof e?e:l,o[1]=i;for(var s=2;s<r;s++)o[s]=n[s];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},4746:(e,t,n)=>{n.d(t,{H:()=>o,a:()=>r});var a=n(7294);const l=(0,a.createContext)(),r=()=>(0,a.useContext)(l),o=e=>{let{children:t}=e;const[n,r]=(0,a.useState)(null),o={authToken:n,setAuthToken:r};return a.createElement(l.Provider,{value:o},t)}},9090:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(7294),l=n(7900),r=n(4746);const o=function(){const{authToken:e,setAuthToken:t}=(0,r.a)(),[n,o]=(0,a.useState)("https://api.staging.galoy.io/graphql"),[i,c]=(0,a.useState)(""),[s,u]=(0,a.useState)(1e3),[m,p]=(0,a.useState)(""),[d,h]=(0,a.useState)(""),[v,y]=(0,a.useState)(""),[g,E]=(0,a.useState)(""),[f,b]=(0,a.useState)(""),[w,S]=(0,a.useState)(""),[x,T]=(0,a.useState)(null),[C,k]=(0,a.useState)(null),[P,I]=(0,a.useState)(null),[L,O]=(0,a.useState)(null),[q,B]=(0,a.useState)(null),[D,j]=(0,a.useState)(null),[A,$]=(0,a.useState)(null),[R,N]=(0,a.useState)(null),U="  query Me {\n    me {\n      defaultAccount {\n        wallets {\n          id\n          walletCurrency\n          balance\n        }\n      }\n    }\n  }",W="mutation LnInvoiceCreate($input: LnInvoiceCreateInput!) {\n  lnInvoiceCreate(input: $input) {\n    invoice {\n      paymentRequest\n      paymentHash\n      paymentSecret\n      satoshis\n    }\n    errors {\n      message\n    }\n  }\n}",G=(e,t)=>W,J="mutation lnInvoiceFeeProbe($input: LnInvoiceFeeProbeInput!) {\n  lnInvoiceFeeProbe(input: $input) {\n    errors {\n      message\n    }\n    amount\n  }\n}",X=(e,t)=>J,F="mutation LnInvoicePaymentSend($input: LnInvoicePaymentInput!) {\n  lnInvoicePaymentSend(input: $input) {\n    status\n    errors {\n      message\n      path\n      code\n    }\n  }\n}",K=(e,t)=>F,Q=function(t,a,l,r){void 0===l&&(l=""),void 0===r&&(r="");let o={query:t.trim(),variables:{}};const i=e?`--header 'Authorization: Bearer ${e}'`:"--header 'Authorization: Bearer <YOUR_AUTH_TOKEN_HERE>'";"invoice"===a?o.variables.input={amount:s.toString(),walletId:m}:"feeProbe"===a?o.variables.input={paymentRequest:l,walletId:m}:"lnInvoicePaymentSend"===a&&(o.variables.input={paymentRequest:l,walletId:r});let c=JSON.stringify(o).replace(/\n/g,"");const u=`curl --request POST --header 'content-type: application/json' \\\n    ${i} \\\n    --url '${n}' \\\n    --data '${c}'`;"wallet"===a?y(`curl -sS --request POST --header 'content-type: application/json' \\\n    ${i} \\\n    --url '${n}' \\\n    --data '{"query":"query me { me { defaultAccount { wallets { id walletCurrency }}}}", "variables":{}}' \\\n | jq '.data.me.defaultAccount.wallets[] | select(.walletCurrency == "BTC") .id'`):"invoice"===a?E(u):"feeProbe"===a?b(u):"lnInvoicePaymentSend"===a&&S(u)};(0,a.useEffect)((()=>{Q(U,"wallet")}),[e,n]),(0,a.useEffect)((()=>{const e=G();Q(e,"invoice")}),[e,n,s,m]),(0,a.useEffect)((()=>{const e=X();Q(e,"feeProbe",d,m)}),[e,n,d,m]),(0,a.useEffect)((()=>{const e=K();Q(e,"lnInvoicePaymentSend",d,m)}),[e,n,d,m]);const _=e=>{p(e.target.value)};function H(e){let{value:t,onChange:n,onSet:l}=e;return a.createElement("div",null,a.createElement("input",{type:"text",placeholder:"Paste and set the authentication token",value:t,onChange:n,style:{width:"50%",marginBottom:"10px"}}),a.createElement("div",null,a.createElement("button",{onClick:l},"Set token")))}const M=a.createElement(H,{value:i,onChange:e=>{c(e.target.value)},onSet:()=>{t(i)}});return a.createElement("div",null,"The GraphQL endpoint to connect to:",a.createElement("input",{type:"text",value:n,onChange:e=>{o(e.target.value)},style:{width:"100%",marginBottom:"10px"}}),a.createElement("div",null,"The following methods require a valid auth token set in the header as a bearer token:"),M,a.createElement("div",{style:{marginTop:"20px"}}),a.createElement("h3",null,"Get the wallet IDs and check the balances"),a.createElement("div",null,"Can run this query at any stage to confirm the change in the balances."),a.createElement("div",null,'The "BTC" wallet balance is denominated in satoshis.'),a.createElement("div",null,'The "USD" wallet balance is in cents.'),a.createElement("div",{style:{marginTop:"20px"}}),a.createElement("div",{style:{marginTop:"20px"}}),a.createElement("div",{style:{fontWeight:"bold"}},"The body of the GraphQL request:"),a.createElement("pre",{style:{marginLeft:"10px"}},U),a.createElement("button",{onClick:async()=>{try{const t=await(0,l.K)(e,n,U);T(t);const a=t?.me?.defaultAccount?.wallets?.find((e=>"BTC"===e.walletCurrency));a?.id&&p(a.id),Q(U,"wallet")}catch(t){B(t.message)}}},"Send the request"),q&&a.createElement("div",{style:{color:"red"}},"Error: ",q),x&&a.createElement("div",null,a.createElement("strong",null,"Response:")," ",a.createElement("pre",{style:{marginLeft:"10px"}},JSON.stringify(x,null,2))),a.createElement("div",{style:{marginTop:"20px",marginBottom:"40px"}},a.createElement("div",{style:{fontWeight:"bold"}},"curl command to get the BTC wallet ID:"),a.createElement("pre",{style:{backgroundColor:"auto",padding:"10px",marginLeft:"10px",overflowX:"auto",whiteSpace:"pre-wrap"}},v)),a.createElement("h3",null,"Generate an invoice"),a.createElement("div",null,"Receive satoshis to the BTC balance."),a.createElement("div",null,a.createElement("div",{style:{fontWeight:"bold"}},"Set the variables"),a.createElement("div",{style:{marginTop:"20px"}}),a.createElement("div",null,a.createElement("label",null,a.createElement("div",null,"Amount (sats):"),a.createElement("input",{type:"number",value:s,onChange:e=>{u(e.target.value)},style:{marginLeft:"10px",width:"50%"}}))),a.createElement("label",null,a.createElement("div",null,"BTC wallet ID:"),a.createElement("input",{type:"text",value:m,onChange:_,style:{marginLeft:"10px",width:"50%"},placeholder:"Paste the BTC wallet ID from the response above"}))),a.createElement("div",{style:{marginTop:"20px"}}),a.createElement("div",{style:{fontWeight:"bold"}},"The body of the GraphQL request:"),a.createElement("pre",{style:{marginLeft:"10px"}},W),a.createElement("button",{onClick:async()=>{const t=G(),a={input:{amount:s.toString(),walletId:m}};try{const r=await(0,l.K)(e,n,t,a);k(r),Q(t,"invoice")}catch(r){j(r.message)}}},"Create invoice"),D&&a.createElement("div",{style:{color:"red"}},"Error: ",D),C&&a.createElement("div",null,a.createElement("strong",null,"Response:")," ",a.createElement("pre",{style:{marginLeft:"10px"}},JSON.stringify(C,null,2))),a.createElement("div",{style:{marginTop:"20px",marginBottom:"40px"}},a.createElement("div",{style:{fontWeight:"bold"}},"curl command to generate an invoice:"),a.createElement("pre",{style:{backgroundColor:"auto",padding:"10px",marginLeft:"10px",overflowX:"auto",whiteSpace:"pre-wrap"}},g)),a.createElement("h3",null,"Probe invoice fee"),a.createElement("div",null,"Estimate the cost of paying a lightning invoice."),a.createElement("div",null,"Payments to an other Blink user and to nodes with a direct channel are free."),a.createElement("div",{style:{marginTop:"20px"}}),a.createElement("div",null,a.createElement("div",{style:{fontWeight:"bold"}},"Set the variables"),a.createElement("div",null,a.createElement("label",null,a.createElement("div",null,"Invoice"),a.createElement("input",{type:"text",value:d,onChange:e=>h(e.target.value),style:{marginLeft:"10px",width:"50%"},placeholder:"Paste a lightning invoice"}))),a.createElement("label",null,a.createElement("div",null,"BTC wallet ID:"),a.createElement("input",{type:"text",value:m,onChange:_,style:{marginLeft:"10px",width:"50%"},placeholder:"Paste the BTC wallet ID from the response above"}))),a.createElement("div",{style:{marginTop:"20px"}}),a.createElement("div",{style:{fontWeight:"bold"}},"The body of the GraphQL request:"),a.createElement("pre",{style:{marginLeft:"10px"}},J),a.createElement("button",{onClick:async()=>{const t=X(),a={input:{paymentRequest:d,walletId:m}};try{const r=await(0,l.K)(e,n,t,a);I(r),Q(t,"feeProbe",d,m)}catch(r){$(r.message)}}},"Probe fee"),A&&a.createElement("div",{style:{color:"red"}},"Error: ",A),P&&a.createElement("div",null,a.createElement("strong",null,"Response:")," ",a.createElement("pre",{style:{marginLeft:"10px"}},JSON.stringify(P,null,2))),a.createElement("div",{style:{marginTop:"20px",marginBottom:"40px"}},a.createElement("h4",null,"cURL command to probe invoice fee:"),a.createElement("pre",{style:{backgroundColor:"auto",padding:"10px",marginLeft:"10px",overflowX:"auto",whiteSpace:"pre-wrap"}},f)),a.createElement("h3",null,"Pay an invoice"),a.createElement("div",null,"Pay a BOLT11 invoice from your BTC balance"),a.createElement("div",{style:{marginTop:"20px"}}),a.createElement("div",null,a.createElement("div",{style:{fontWeight:"bold"}},"Set the variables"),a.createElement("div",null,a.createElement("label",null,a.createElement("div",null,"Invoice"),a.createElement("input",{type:"text",value:d,onChange:e=>h(e.target.value),style:{marginLeft:"10px",marginRight:"20px"},placeholder:"Paste a lightning invoice"}))),a.createElement("label",null,a.createElement("div",null,"BTC wallet ID:"),a.createElement("input",{type:"text",value:m,onChange:_,style:{marginLeft:"10px",width:"50%"},placeholder:"Paste the BTC wallet ID from the response above"}))),a.createElement("div",{style:{marginTop:"20px"}}),a.createElement("div",{style:{fontWeight:"bold"}},"The body of the GraphQL request:"),a.createElement("pre",{style:{marginLeft:"10px"}},F),a.createElement("button",{onClick:async()=>{const t=K(),a={input:{paymentRequest:d,walletId:m}};try{const r=await(0,l.K)(e,n,t,a);O(r),Q(t,"lnInvoicePaymentSend",d,m)}catch(r){N(r.message)}}},"Send payment"),R&&a.createElement("div",{style:{color:"red"}},"Error: ",R),L&&a.createElement("div",null,a.createElement("strong",null,"Response:")," ",a.createElement("pre",{style:{marginLeft:"10px"}},JSON.stringify(L,null,2))),a.createElement("div",{style:{marginTop:"20px"}},a.createElement("div",{style:{fontWeight:"bold"}},"curl command to pay an invoice:"),a.createElement("pre",{style:{backgroundColor:"auto",padding:"10px",marginLeft:"10px",overflowX:"auto",whiteSpace:"pre-wrap"}},w)))}},5690:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(7294),l=n(7900),r=n(4746);const o=function(){const{authToken:e,setAuthToken:t}=(0,r.a)(),[n,o]=(0,a.useState)("https://api.staging.galoy.io/graphql"),[i,c]=(0,a.useState)(""),[s,u]=(0,a.useState)(100),[m,p]=(0,a.useState)(""),[d,h]=(0,a.useState)(""),[v,y]=(0,a.useState)(""),[g,E]=(0,a.useState)(""),[f,b]=(0,a.useState)(""),[w,S]=(0,a.useState)(""),[x,T]=(0,a.useState)(null),[C,k]=(0,a.useState)(null),[P,I]=(0,a.useState)(null),[L,O]=(0,a.useState)(null),[q,B]=(0,a.useState)(null),[D,j]=(0,a.useState)(null),[A,$]=(0,a.useState)(null),[R,N]=(0,a.useState)(null),U="  query Me {\n    me {\n      defaultAccount {\n        wallets {\n          id\n          walletCurrency\n          balance\n        }\n      }\n    }\n  }",W="mutation lnUsdInvoiceCreate($input: LnUsdInvoiceCreateInput!) {\n  lnUsdInvoiceCreate(input: $input) {\n    invoice {\n      paymentRequest\n      paymentHash\n      paymentSecret\n      satoshis\n    }\n    errors {\n      message\n    }\n  }\n}",G=(e,t)=>W,J="mutation lnUsdInvoiceFeeProbe($input: LnUsdInvoiceFeeProbeInput!) {\n  lnUsdInvoiceFeeProbe(input: $input) {\n    errors {\n      message\n    }\n    amount\n  }\n}",X=(e,t)=>J,F="mutation LnInvoicePaymentSend($input: LnInvoicePaymentInput!) {\n  lnInvoicePaymentSend(input: $input) {\n    status\n    errors {\n      message\n      path\n      code\n    }\n  }\n}",K=(e,t)=>F,Q=function(t,a,l,r){void 0===l&&(l=""),void 0===r&&(r="");let o={query:t.trim(),variables:{}};const i=e?`--header 'Authorization: Bearer ${e}'`:"--header 'Authorization: Bearer <YOUR_AUTH_TOKEN_HERE>'";"invoice"===a?o.variables.input={amount:s.toString(),walletId:m}:"feeProbe"===a?o.variables.input={paymentRequest:l,walletId:m}:"lnInvoicePaymentSend"===a&&(o.variables.input={paymentRequest:l,walletId:r});let c=JSON.stringify(o).replace(/\n/g,"");const u=`curl --request POST --header 'content-type: application/json' \\\n    ${i} \\\n    --url '${n}' \\\n    --data '${c}'`;"wallet"===a?y(`curl -sS --request POST --header 'content-type: application/json' \\\n    ${i} \\\n    --url '${n}' \\\n    --data '{"query":"query me { me { defaultAccount { wallets { id walletCurrency }}}}", "variables":{}}' \\\n | jq '.data.me.defaultAccount.wallets[] | select(.walletCurrency == "USD") .id'`):"invoice"===a?E(u):"feeProbe"===a?b(u):"lnInvoicePaymentSend"===a&&S(u)};(0,a.useEffect)((()=>{Q(U,"wallet")}),[e,n]),(0,a.useEffect)((()=>{const e=G();Q(e,"invoice")}),[e,n,s,m]),(0,a.useEffect)((()=>{const e=X();Q(e,"feeProbe",d,m)}),[e,n,d,m]),(0,a.useEffect)((()=>{const e=K();Q(e,"lnInvoicePaymentSend",d,m)}),[e,n,d,m]);const _=e=>{p(e.target.value)};function H(e){let{value:t,onChange:n,onSet:l}=e;return a.createElement("div",null,a.createElement("input",{type:"text",placeholder:"Paste and set the authentication token",value:t,onChange:n,style:{width:"50%",marginBottom:"10px"}}),a.createElement("div",null,a.createElement("button",{onClick:l},"Set token")))}const M=a.createElement(H,{value:i,onChange:e=>{c(e.target.value)},onSet:()=>{t(i)}});return a.createElement("div",null,a.createElement("div",null,"The GraphQL endpoint to connect to:"),a.createElement("input",{type:"text",value:n,onChange:e=>{o(e.target.value)},style:{width:"50%",marginBottom:"10px"}}),a.createElement("div",null,"The following methods require a valid auth token set in the header as a bearer token:"),M,a.createElement("div",{style:{marginTop:"40px"}}),a.createElement("h3",null,"Get the wallet IDs and check the balances"),a.createElement("div",null,"Can run this query at any stage to confirm the change in the balances."),a.createElement("div",null,'The "BTC" wallet balance is denominated in satoshis.'),a.createElement("div",null,'The "USD" wallet balance is in cents.'),a.createElement("div",{style:{marginTop:"20px"}}),a.createElement("div",{style:{fontWeight:"bold"}},"The body of the GraphQL request:"),a.createElement("pre",{style:{marginLeft:"10px"}},U),a.createElement("button",{onClick:async()=>{try{const t=await(0,l.K)(e,n,U);T(t);const a=t?.me?.defaultAccount?.wallets?.find((e=>"BTC"===e.walletCurrency));a?.id&&p(a.id),Q(U,"wallet")}catch(t){B(t.message)}}},"Send the request"),q&&a.createElement("div",{style:{color:"red"}},"Error: ",q),x&&a.createElement("div",null,a.createElement("strong",null,"Response:")," ",a.createElement("pre",{style:{marginLeft:"10px"}},JSON.stringify(x,null,2))),a.createElement("div",{style:{marginTop:"20px",marginBottom:"40px"}},a.createElement("div",{style:{fontWeight:"bold"}},"curl command to get the USD wallet ID:"),a.createElement("pre",{style:{backgroundColor:"auto",padding:"10px",marginLeft:"10px",overflowX:"auto",whiteSpace:"pre-wrap"}},v)),a.createElement("h3",null,"Generate a Stablesats invoice"),a.createElement("div",null,"Using Stablesats a merchant can generate invoices denominated in USD cents."),a.createElement("div",null,"The satoshi amount of the invoice will reflect the current USD/BTC exchange rate and the balance will be kept at the dollar value."),a.createElement("div",{style:{marginTop:"20px"}}),a.createElement("div",null,a.createElement("div",null,a.createElement("div",{style:{fontWeight:"bold"}},"Set the variables"),a.createElement("label",null,a.createElement("div",null,"Amount (USD cents):"),a.createElement("input",{type:"number",value:s,onChange:e=>{u(e.target.value)},style:{marginLeft:"10px",width:"50%"}}))),a.createElement("label",null,a.createElement("div",null,"USD wallet ID:"),a.createElement("input",{type:"text",value:m,onChange:_,style:{marginLeft:"10px",width:"50%"},placeholder:"Paste the USD wallet ID from the response above"}))),a.createElement("div",{style:{marginTop:"20px"}}),a.createElement("div",{style:{fontWeight:"bold"}},"The body of the GraphQL request:"),a.createElement("pre",{style:{marginLeft:"10px"}},W),a.createElement("button",{onClick:async()=>{const t=G(),a={input:{amount:s.toString(),walletId:m}};try{const r=await(0,l.K)(e,n,t,a);k(r),Q(t,"invoice")}catch(r){j(r.message)}}},"Create a Stablesats invoice"),D&&a.createElement("div",{style:{color:"red"}},"Error: ",D),C&&a.createElement("div",null,a.createElement("strong",null,"Response:")," ",a.createElement("pre",{style:{marginLeft:"10px"}},JSON.stringify(C,null,2))),a.createElement("div",{style:{marginTop:"20px",marginBottom:"40px"}},a.createElement("div",{style:{fontWeight:"bold"}},"curl command to generate a Stablesats invoice:"),a.createElement("pre",{style:{backgroundColor:"auto",padding:"10px",marginLeft:"10px",overflowX:"auto",whiteSpace:"pre-wrap"}},g)),a.createElement("h3",null,"Probe invoice fee"),a.createElement("div",null,"Estimate the cost of paying a lightning invoice."),a.createElement("div",null,"Payments to an other Blink user and to nodes with a direct channel are free."),a.createElement("div",{style:{marginTop:"20px"}}),a.createElement("div",null,a.createElement("div",{style:{fontWeight:"bold"}},"Set the variables"),a.createElement("div",null,a.createElement("label",null,a.createElement("div",null,"Invoice"),a.createElement("input",{type:"text",value:d,onChange:e=>h(e.target.value),style:{marginLeft:"10px",width:"50%"},placeholder:"Paste a lightning invoice"}))),a.createElement("label",null,a.createElement("div",null,"USD wallet ID:"),a.createElement("input",{type:"text",value:m,onChange:_,style:{marginLeft:"10px",width:"50%"},placeholder:"Paste the USD wallet ID from the response above"}))),a.createElement("div",{style:{marginTop:"20px"}}),a.createElement("div",{style:{fontWeight:"bold"}},"The body of the GraphQL request:"),a.createElement("pre",{style:{marginLeft:"10px"}},J),a.createElement("button",{onClick:async()=>{const t=X(),a={input:{paymentRequest:d,walletId:m}};try{const r=await(0,l.K)(e,n,t,a);I(r),Q(t,"feeProbe",d,m)}catch(r){$(r.message)}}},"Probe fee"),A&&a.createElement("div",{style:{color:"red"}},"Error: ",A),P&&a.createElement("div",null,a.createElement("strong",null,"Response:")," ",a.createElement("pre",{style:{marginLeft:"10px"}},JSON.stringify(P,null,2))),a.createElement("div",{style:{marginTop:"20px",marginBottom:"40px"}},a.createElement("h4",null,"cURL command to probe invoice fee:"),a.createElement("pre",{style:{backgroundColor:"auto",padding:"10px",marginLeft:"10px",overflowX:"auto",whiteSpace:"pre-wrap"}},f)),a.createElement("h3",null,"Pay an invoice"),a.createElement("div",null,"Pay a BOLT11 invoice from your Stablesats balance"),a.createElement("div",{style:{marginTop:"20px"}}),a.createElement("div",null,a.createElement("div",{style:{fontWeight:"bold"}},"Set the variables"),a.createElement("div",null,a.createElement("label",null,a.createElement("div",null,"Invoice"),a.createElement("input",{type:"text",value:d,onChange:e=>h(e.target.value),style:{marginLeft:"10px",width:"50%"},placeholder:"Paste a lightning invoice"}))),a.createElement("label",null,a.createElement("div",null,"USD wallet ID:"),a.createElement("input",{type:"text",value:m,onChange:_,style:{marginLeft:"10px",width:"50%"},placeholder:"Paste the USD wallet ID from the response above"}))),a.createElement("div",{style:{marginTop:"20px"}}),a.createElement("div",{style:{fontWeight:"bold"}},"The body of the GraphQL request:"),a.createElement("pre",{style:{marginLeft:"10px"}},F),a.createElement("button",{onClick:async()=>{const t=K(),a={input:{paymentRequest:d,walletId:m}};try{const r=await(0,l.K)(e,n,t,a);O(r),Q(t,"lnInvoicePaymentSend",d,m)}catch(r){N(r.message)}}},"Send payment"),R&&a.createElement("div",{style:{color:"red"}},"Error: ",R),L&&a.createElement("div",null,a.createElement("strong",null,"Response:")," ",a.createElement("pre",{style:{marginLeft:"10px"}},JSON.stringify(L,null,2))),a.createElement("div",{style:{marginTop:"20px",marginBottom:"40px"}},a.createElement("div",{style:{fontWeight:"bold"}},"curl command to pay an invoice:"),a.createElement("pre",{style:{backgroundColor:"auto",padding:"10px",marginLeft:"10px",overflowX:"auto",whiteSpace:"pre-wrap"}},w)))}},7900:(e,t,n)=>{n.d(t,{K:()=>a});const a=async function(e,t,n,a){if(void 0===a&&(a={}),!e)throw new Error("Not authenticated");if(!n)throw new Error("No GraphQL query provided");try{const l=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`bearer ${e}`},body:JSON.stringify({query:n,variables:a})});if(!l.ok){const e=await l.text();throw new Error(`Error response from server: ${e}`)}const r=l.headers.get("content-type");if(r&&r.includes("application/json")){return await l.json()}throw new Error(`Unexpected content type: ${r}`)}catch(l){throw console.error("There was an error making the authenticated request:",l),l}}},2240:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>m,contentTitle:()=>s,default:()=>v,frontMatter:()=>c,metadata:()=>u,toc:()=>p});var a=n(7462),l=n(7294),r=n(3905),o=n(4746);const i=function(){const{authToken:e,setAuthToken:t}=(0,o.a)(),[n,a]=(0,l.useState)("https://api.staging.galoy.io/auth"),[r,i]=(0,l.useState)(""),[c,s]=(0,l.useState)(""),[u,m]=(0,l.useState)(null),[p,d]=(0,l.useState)(null),[h,v]=(0,l.useState)(""),[y,g]=(0,l.useState)(!1),[E,f]=(0,l.useState)(null),[b,w]=(0,l.useState)(null),[S,x]=(0,l.useState)(""),[T,C]=(0,l.useState)(""),[k,P]=(0,l.useState)(!1);return(0,l.useEffect)((()=>{const e=((e,t)=>{const n={email:t};return`curl -X POST '${e}/auth/email/code' \\\n  --header 'Content-Type: application/json' \\\n  --header 'Accept: application/json' \\\n  --data '${JSON.stringify(n)}'`})(n,r);x(e)}),[n,r]),(0,l.useEffect)((()=>{const e=((e,t,n)=>`curl -X POST '${e}/auth/email/login' \\\n  --header 'Content-Type: application/json' \\\n  --header 'Accept: application/json' \\\n  --data '${JSON.stringify({code:n,emailLoginId:t})}'`)(n,h,c);C(e)}),[n,h,c]),l.createElement("div",null,l.createElement("h3",null,"1) Request a 2FA code to your email"),l.createElement("div",{style:{marginTop:"10px"}}),l.createElement("div",null,l.createElement("div",null,"The REST authentication endpoint to connect to:"),l.createElement("input",{type:"text",value:n,onChange:e=>a(e.target.value),style:{width:"50%",marginBottom:"10px"}}),l.createElement("div",null),l.createElement("input",{type:"email",placeholder:"Fill in the email address used with Blink",value:r,onChange:e=>i(e.target.value),style:{width:"50%",marginBottom:"10px"}})),l.createElement("button",{onClick:async()=>{try{const e=await(async(e,t)=>{try{const n=await fetch(`${e}/email/code`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:t})}),a=await n.json();if(!n.ok)throw new Error(`HTTP Error: ${n.status}`);return a.result}catch(n){throw console.error("There was an error making the request:",n),n}})(n,r);v(e),m(`The emailLoginId: ${e} was obtained successfully!`)}catch(e){d(e.message)}}},"Request code"),l.createElement("div",{style:{marginTop:"20px"}},l.createElement("h4",null,"cURL command to request an email code:"),l.createElement("pre",{style:{backgroundColor:"auto",padding:"10px",marginLeft:"10px",overflowX:"auto",whiteSpace:"pre-wrap"}},S)),p&&l.createElement("div",{style:{color:"red"}},"Error: ",p),u&&l.createElement("div",{style:{color:"green"}},u),l.createElement("div",{style:{margin:"20px 0"}}),l.createElement("div",{style:{marginTop:"40px"}},l.createElement("h3",null,"2) Enter the 2FA code received by email"),"The email login ID from the previous request:",l.createElement("div",null,l.createElement("input",{type:"text",placeholder:"Email login ID",value:h,onChange:e=>v(e.target.value),style:{width:"50%",marginBottom:"10px"}}),l.createElement("div",null),l.createElement("input",{type:"text",placeholder:"Fill in the 2FA code from the email",value:c,onChange:e=>s(e.target.value),style:{width:"50%",marginBottom:"10px"}})),l.createElement("button",{onClick:async()=>{if(!h||c.length<6)w("Invalid input");else{P(!0);try{const e=await(async(e,t,n)=>{try{const a=await fetch(`${e}/email/login`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({code:n,emailLoginId:t})}),l=await a.json();if(l.error){if("too many requests"===l.error)throw new Error("You've made too many requests. Please wait and try again later.");throw new Error(l.error)}if(!l.result?.authToken)throw new Error("Expected authToken not found in the response.");return l.result.authToken}catch(a){throw console.error("There was an error making the request:",a),a}})(n,h,c);t(e),f("Logged in successfully! Copy and save the token to make authenticated requests on the next page.")}catch(e){w(e.message)}finally{P(!1)}}},disabled:k},k?"Logging in...":"Log in")),l.createElement("div",{style:{marginTop:"20px"}},l.createElement("h4",null,"cURL command for email login:"),l.createElement("pre",{style:{backgroundColor:"auto",padding:"10px",marginLeft:"10px",overflowX:"auto",whiteSpace:"pre-wrap"}},T)),b&&l.createElement("div",{style:{color:"red"}},"Error: ",b),E&&l.createElement("div",{style:{color:"green"}},E),e&&l.createElement("div",null,l.createElement("button",{onClick:()=>{g((e=>!e))}},"Toggle Token Visibility"),y&&l.createElement("div",null,l.createElement("strong",null,"Token:")," ",e)))};n(9090),n(5690);const c={id:"api-auth",title:"Get an authentication token",slug:"/api/auth"},s=void 0,u={unversionedId:"api/api-auth",id:"api/api-auth",title:"Get an authentication token",description:"There are multiple ways to obtain an auth token to be used with the API.",source:"@site/docs/api/a-auth.md",sourceDirName:"api",slug:"/api/auth",permalink:"/api/auth",draft:!1,tags:[],version:"current",frontMatter:{id:"api-auth",title:"Get an authentication token",slug:"/api/auth"},sidebar:"apiSidebar",previous:{title:"Start with Blink",permalink:"/api/"},next:{title:"Send and receive Stablesats",permalink:"/api/stablesats"}},m={},p=[{value:"Log in with email through the REST API",id:"log-in-with-email-through-the-rest-api",level:2},{value:"Copy the token from the Blink app",id:"copy-the-token-from-the-blink-app",level:2}],d={toc:p},h="wrapper";function v(e){let{components:t,...n}=e;return(0,r.kt)(h,(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"There are multiple ways to obtain an auth token to be used with the API."),(0,r.kt)("h2",{id:"log-in-with-email-through-the-rest-api"},"Log in with email through the REST API"),(0,r.kt)(o.H,{mdxType:"AuthProvider"},(0,r.kt)(i,{mdxType:"EmailLoginButton"})),(0,r.kt)("h2",{id:"copy-the-token-from-the-blink-app"},"Copy the token from the Blink app"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Create new account"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"Start with trial account")," or ",(0,r.kt)("inlineCode",{parentName:"li"},"Log back in with Phone or Email")),(0,r.kt)("li",{parentName:"ul"},"tap the menu on the top right and scroll down"),(0,r.kt)("li",{parentName:"ul"},"select the build number on the bottom 3 times"),(0,r.kt)("li",{parentName:"ul"},"select ",(0,r.kt)("inlineCode",{parentName:"li"},"Copy access token")," to save the token to your phone clipboard")))}v.isMDXComponent=!0}}]);